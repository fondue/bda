attr global userattr devStateIcon devStateStyle icon sortby webCmd widgetOverride
attr global autoload_undefined_devices 1
attr global logfile ./log/fhem-%Y-%m.log
attr global modpath .
attr global motd SecurityCheck:\
\

attr global statefile ./log/fhem.save
attr global updateInBackground 1
attr global verbose 3

define telnetPort telnet 7072 global

define WEB FHEMWEB 8083 global
attr WEB stylesheetPrefix darksmallscreen

#define WEBphone FHEMWEB 8084 global
#attr WEBphone stylesheetPrefix smallscreen

#define WEBtablet FHEMWEB 8085 global
#attr WEBtablet stylesheetPrefix touchpad

# Fake FileLog entry, to access the fhem log from FHEMWEB 
define Logfile FileLog ./log/fhem-%Y-%m.log fakelog

define autocreate autocreate
attr autocreate filelog ./log/%NAME-%Y.log

define eventTypes eventTypes ./log/eventTypes.txt

# Disable this to avoid looking for new USB devices on startup
define initialUsbCheck notify global:INITIALIZED usb create
define TCM310_0 TCM 310 /dev/ttyUSB0@57600
attr TCM310_0 sendInterval 0

define door1 EnOcean 018C5FE1
attr door1 IODev TCM310_0
attr door1 room EnOcean
attr door1 subType contact
define FileLog_door1 FileLog ./log/door1-%Y.log door1
attr FileLog_door1 logtype text
attr FileLog_door1 room EnOcean

define window1 EnOcean 018EF3C9
attr window1 IODev TCM310_0
attr window1 room EnOcean
attr window1 subType contact
define FileLog_window1 FileLog ./log/window1-%Y.log window1
attr FileLog_window1 logtype text
attr FileLog_window1 room EnOcean

define act_on_door1_open notify door1:open {system("sudo /home/pi/projects/bda/src/write_time.py &")}
define act_on_door1_closed notify door1:closed {system("sudo /home/pi/projects/bda/src/write_time.py &")}

define act_on_window1_open notify window1:open {system("sudo /home/pi/projects/bda/src/write_time.py &")}
define act_on_window1_closed notify window1:closed {system("sudo /home/pi/projects/bda/src/write_time.py &")}


define Test dummy
attr Test setList on off
define off_Test notify Test:off {system("sudo /home/pi/test.py &")}
define on_Test notify Test:on {system("sudo /home/pi/test.py &")}


#define EnO_contact_01821CC9 EnOcean 01821CC9
#attr EnO_contact_01821CC9 IODev TCM310_0
#attr EnO_contact_01821CC9 room EnOcean
#attr EnO_contact_01821CC9 subType contact
#define FileLog_EnO_contact_01821CC9 FileLog #./log/EnO_contact_01821CC9-%Y.log #EnO_contact_01821CC9
#attr FileLog_EnO_contact_01821CC9 logtype text
#attr FileLog_EnO_contact_01821CC9 room EnOcean






define ZWAVE1 ZWDongle /dev/ttyAMA0@115200

define door2 ZWave ec706ea6 2
attr door2 IODev ZWAVE1
attr door2 classes SENSOR_BINARY CONFIGURATION WAKE_UP MANUFACTURER_SPECIFIC VERSION ASSOCIATION BATTERY MARK BASIC ALARM
attr door2 room ZWave

define FileLog_door2 FileLog ./log/door2-%Y.log door2
attr FileLog_door2 logtype text
attr FileLog_door2 room ZWave


define window2 ZWave ec706ea6 3
attr window2 IODev ZWAVE1
attr window2 classes SENSOR_BINARY CONFIGURATION WAKE_UP MANUFACTURER_SPECIFIC VERSION ASSOCIATION BATTERY MARK BASIC
attr window2 room ZWave

define FileLog_window2 FileLog ./log/window2-%Y.log window2
attr FileLog_window2 logtype text
attr FileLog_window2 room ZWave

define act_on_door2_closed notify door2:basicReport:.00 {system("sudo /home/pi/projects/bda/src/write_time.py &")}

define act_on_door2_open notify door2:basicReport:.ff {system("sudo /home/pi/projects/bda/src/write_time.py &")}

define act_on_window2_closed notify window2:basicReport:.00 {system("sudo /home/pi/projects/bda/src/write_time.py &")}

define act_on_window2_open notify window2:basicReport:.ff {system("sudo /home/pi/projects/bda/src/write_time.py&")}





define ZWave_SENSOR_BINARY_4 ZWave ec706ea6 4
attr ZWave_SENSOR_BINARY_4 IODev ZWAVE1
attr ZWave_SENSOR_BINARY_4 classes SENSOR_BINARY SENSOR_ALARM ASSOCIATION MANUFACTURER_SPECIFIC CONFIGURATION VERSION BATTERY CRC_16_ENCAP WAKE_UP FIRMWARE_UPDATE_MD MARK BASIC SCENE_ACTIVATION
attr ZWave_SENSOR_BINARY_4 room ZWave
define FileLog_ZWave_SENSOR_BINARY_4 FileLog ./log/ZWave_SENSOR_BINARY_4-%Y.log ZWave_SENSOR_BINARY_4
attr FileLog_ZWave_SENSOR_BINARY_4 logtype text
attr FileLog_ZWave_SENSOR_BINARY_4 room ZWave
